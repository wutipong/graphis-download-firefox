{"mappings":"4xBAKA,gBAGI,oBAAOA,SAA2BC,OAAOC,eAAeF,WAAaC,OAAOE,UAAhF,OACQC,EAAgD,0DAChDC,EAAiC,yPAOjCC,EAAWC,UAITC,EAAW,QACf,OACE,SACa,UACA,YAEb,SACa,UACA,OAEb,SACa,UACA,UAEb,SACa,UACA,cAGf,QACE,SACa,UACA,OAEb,SACa,UACA,eAEb,SACa,UACA,aAEb,SACa,UACA,cAEb,SACa,UACA,WAEb,SACa,UACA,QAEb,SACa,UACA,UAEb,SACa,UACA,cAEb,SACa,UACA,UAEb,SACa,UACA,UAEb,SACa,UACA,kBAGf,SACE,SACa,UACA,wBACa,UAE1B,SACa,UACA,wBACa,2BAE1B,SACa,UACA,gBAEb,SACa,UACA,YAEb,SACa,UACA,YAEb,SACa,UACA,aAEb,SACa,UACA,2BAEb,SACa,UACA,wBACa,gBAE1B,SACa,UACA,wBACa,WAE1B,SACa,UACA,YAEb,SACa,UACA,wBACa,YAE1B,SACa,UACA,wBACa,iBAG5B,QACE,SACa,UACA,eAEb,SACa,UACA,iBAEb,SACa,UACA,mBAEb,SACa,UACA,kBAEb,SACa,UACA,iBAEb,SACa,UACA,sBAEb,SACa,UACA,mBAEb,SACa,UACA,oBAEb,SACa,UACA,YAEb,SACa,UACA,aAGf,QACE,SACa,UACA,iBAGf,QACE,SACa,UACA,aAEb,SACa,UACA,UAEb,SACa,UACA,YAGf,KACE,SACa,UACA,UAEb,SACa,UACA,sBAEb,SACa,UACA,UAEb,SACa,UACA,OAEb,SACa,UACA,aAGf,iBACE,MACE,SACa,UACA,qBACU,WAGzB,QACE,SACa,UACA,qBACU,YAEvB,mBACE,SACa,UACA,gBAKnB,QACE,SACa,UACA,YAEb,SACa,UACA,SAEb,SACa,UACA,eAEb,SACa,UACA,QAEb,SACa,UACA,wBACa,SAE1B,SACa,UACA,cAEb,SACa,UACA,UAEb,SACa,UACA,UAEb,SACa,UACA,QAEb,SACa,UACA,wBACa,cAG5B,2BACE,SACa,UACA,4BAEb,SACa,UACA,YAGf,QACE,SACa,UACA,aAEb,SACa,UACA,eAEb,SACa,UACA,aAEb,SACa,UACA,aAEb,SACa,UACA,UAEb,SACa,UACA,SAGf,gBACE,SACa,UACA,sBAEb,SACa,UACA,aAGf,mBACE,SACa,UACA,SAGf,YACE,SACa,UACA,eAGf,KACE,SACa,UACA,UAEb,SACa,UACA,WAEb,SACa,UACA,cAEb,SACa,UACA,iBAEb,SACa,UACA,kBAGf,OACE,SACa,UACA,UAEb,SACa,UACA,UAEb,SACa,UACA,sBAEb,SACa,UACA,UAEb,SACa,UACA,eAGf,UACE,SACa,UACA,YAEb,SACa,UACA,QAEb,SACa,UACA,wBACa,WAE1B,SACa,UACA,YAEb,SACa,UACA,wBACa,YAE1B,SACa,UACA,wBACa,QAE1B,SACa,UACA,wBACa,gBAG5B,UACE,SACa,UACA,UAEb,SACa,UACA,UAEb,SACa,UACA,WAEb,SACa,UACA,YAGf,mBACE,SACa,UACA,mBAEb,SACa,UACA,mBAEb,SACa,UACA,sBAEb,SACa,UACA,eAEb,SACa,UACA,qBAEb,SACa,UACA,mBAEb,SACa,UACA,aAGf,YACE,SACa,UACA,qBAEb,SACa,UACA,WAEb,SACa,UACA,YAGf,OACE,OACE,SACa,UACA,OAEb,SACa,UACA,iBAEb,SACa,UACA,UAEb,SACa,UACA,OAEb,SACa,UACA,YAGf,KACE,SACa,UACA,iBAEb,SACa,UACA,SAGf,OACE,SACa,UACA,OAEb,SACa,UACA,iBAEb,SACa,UACA,UAEb,SACa,UACA,OAEb,SACa,UACA,UAIjB,mBACE,SACa,UACA,UAEb,SACa,UACA,kBAEb,SACa,UACA,WAEb,SACa,UACA,aAEb,SACa,UACA,iBAEb,SACa,UACA,OAEb,SACa,UACA,cAEb,SACa,UACA,WAEb,SACa,UACA,mBAEb,SACa,UACA,UAEb,SACa,UACA,aAEb,SACa,UACA,aAEb,SACa,UACA,aAEb,SACa,UACA,QAEb,SACa,UACA,SAEb,SACa,UACA,UAEb,SACa,UACA,UAEb,SACa,UACA,aAEb,SACa,UACA,eAEb,SACa,UACA,W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","sources":["node_modules/webextension-polyfill/dist/browser-polyfill.js","node_modules/process/browser.js","node_modules/path-browserify/index.js","src/popup.js"],"sourcesContent":["/* webextension-polyfill - v0.8.0 - Tue Apr 20 2021 11:27:38 */\n/* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n/* vim: set sts=2 sw=2 et tw=80: */\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\"use strict\";\n\nif (typeof browser === \"undefined\" || Object.getPrototypeOf(browser) !== Object.prototype) {\n  const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n  const SEND_RESPONSE_DEPRECATION_WARNING = \"Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)\";\n\n  // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n  // optimization for Firefox. Since Spidermonkey does not fully parse the\n  // contents of a function until the first time it's called, and since it will\n  // never actually need to be called, this allows the polyfill to be included\n  // in Firefox nearly for free.\n  const wrapAPIs = extensionAPIs => {\n    // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n    // at build time by replacing the following \"include\" with the content of the\n    // JSON file.\n    const apiMetadata = {\n      \"alarms\": {\n        \"clear\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"clearAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"bookmarks\": {\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getChildren\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getRecent\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getSubTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTree\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"browserAction\": {\n        \"disable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"enable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"getBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"openPopup\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"browsingData\": {\n        \"remove\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"removeCache\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCookies\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeDownloads\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFormData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeHistory\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeLocalStorage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePasswords\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePluginData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"settings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"commands\": {\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"contextMenus\": {\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"cookies\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAllCookieStores\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"set\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"devtools\": {\n        \"inspectedWindow\": {\n          \"eval\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2,\n            \"singleCallbackArg\": false\n          }\n        },\n        \"panels\": {\n          \"create\": {\n            \"minArgs\": 3,\n            \"maxArgs\": 3,\n            \"singleCallbackArg\": true\n          },\n          \"elements\": {\n            \"createSidebarPane\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        }\n      },\n      \"downloads\": {\n        \"cancel\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"download\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"erase\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFileIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"open\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"pause\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFile\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"resume\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"extension\": {\n        \"isAllowedFileSchemeAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"isAllowedIncognitoAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"history\": {\n        \"addUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"deleteRange\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getVisits\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"i18n\": {\n        \"detectLanguage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAcceptLanguages\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"identity\": {\n        \"launchWebAuthFlow\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"idle\": {\n        \"queryState\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"management\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setEnabled\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"uninstallSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"notifications\": {\n        \"clear\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPermissionLevel\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"pageAction\": {\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"hide\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"permissions\": {\n        \"contains\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"request\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"runtime\": {\n        \"getBackgroundPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPlatformInfo\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"openOptionsPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"requestUpdateCheck\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"sendMessage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 3\n        },\n        \"sendNativeMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"setUninstallURL\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"sessions\": {\n        \"getDevices\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getRecentlyClosed\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"restore\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"storage\": {\n        \"local\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"managed\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"sync\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        }\n      },\n      \"tabs\": {\n        \"captureVisibleTab\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"detectLanguage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"discard\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"duplicate\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"executeScript\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getZoom\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getZoomSettings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goBack\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goForward\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"highlight\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"insertCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"query\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"reload\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"sendMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 3\n        },\n        \"setZoom\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"setZoomSettings\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"update\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        }\n      },\n      \"topSites\": {\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"webNavigation\": {\n        \"getAllFrames\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFrame\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"webRequest\": {\n        \"handlerBehaviorChanged\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"windows\": {\n        \"create\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getLastFocused\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      }\n    };\n\n    if (Object.keys(apiMetadata).length === 0) {\n      throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n    }\n\n    /**\n     * A WeakMap subclass which creates and stores a value for any key which does\n     * not exist when accessed, but behaves exactly as an ordinary WeakMap\n     * otherwise.\n     *\n     * @param {function} createItem\n     *        A function which will be called in order to create the value for any\n     *        key which does not exist, the first time it is accessed. The\n     *        function receives, as its only argument, the key being created.\n     */\n    class DefaultWeakMap extends WeakMap {\n      constructor(createItem, items = undefined) {\n        super(items);\n        this.createItem = createItem;\n      }\n\n      get(key) {\n        if (!this.has(key)) {\n          this.set(key, this.createItem(key));\n        }\n\n        return super.get(key);\n      }\n    }\n\n    /**\n     * Returns true if the given object is an object with a `then` method, and can\n     * therefore be assumed to behave as a Promise.\n     *\n     * @param {*} value The value to test.\n     * @returns {boolean} True if the value is thenable.\n     */\n    const isThenable = value => {\n      return value && typeof value === \"object\" && typeof value.then === \"function\";\n    };\n\n    /**\n     * Creates and returns a function which, when called, will resolve or reject\n     * the given promise based on how it is called:\n     *\n     * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n     *   the promise is rejected with that value.\n     * - If the function is called with exactly one argument, the promise is\n     *   resolved to that value.\n     * - Otherwise, the promise is resolved to an array containing all of the\n     *   function's arguments.\n     *\n     * @param {object} promise\n     *        An object containing the resolution and rejection functions of a\n     *        promise.\n     * @param {function} promise.resolve\n     *        The promise's resolution function.\n     * @param {function} promise.reject\n     *        The promise's rejection function.\n     * @param {object} metadata\n     *        Metadata about the wrapped method which has created the callback.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function}\n     *        The generated callback function.\n     */\n    const makeCallback = (promise, metadata) => {\n      return (...callbackArgs) => {\n        if (extensionAPIs.runtime.lastError) {\n          promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n        } else if (metadata.singleCallbackArg ||\n                   (callbackArgs.length <= 1 && metadata.singleCallbackArg !== false)) {\n          promise.resolve(callbackArgs[0]);\n        } else {\n          promise.resolve(callbackArgs);\n        }\n      };\n    };\n\n    const pluralizeArguments = (numArgs) => numArgs == 1 ? \"argument\" : \"arguments\";\n\n    /**\n     * Creates a wrapper function for a method with the given name and metadata.\n     *\n     * @param {string} name\n     *        The name of the method which is being wrapped.\n     * @param {object} metadata\n     *        Metadata about the method being wrapped.\n     * @param {integer} metadata.minArgs\n     *        The minimum number of arguments which must be passed to the\n     *        function. If called with fewer than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {integer} metadata.maxArgs\n     *        The maximum number of arguments which may be passed to the\n     *        function. If called with more than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function(object, ...*)}\n     *       The generated wrapper function.\n     */\n    const wrapAsyncFunction = (name, metadata) => {\n      return function asyncFunctionWrapper(target, ...args) {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          if (metadata.fallbackToNoCallback) {\n            // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n            // and so the polyfill will try to call it with a callback first, and it will fallback\n            // to not passing the callback if the first call fails.\n            try {\n              target[name](...args, makeCallback({resolve, reject}, metadata));\n            } catch (cbError) {\n              console.warn(`${name} API method doesn't seem to support the callback parameter, ` +\n                           \"falling back to call it without a callback: \", cbError);\n\n              target[name](...args);\n\n              // Update the API method metadata, so that the next API calls will not try to\n              // use the unsupported callback anymore.\n              metadata.fallbackToNoCallback = false;\n              metadata.noCallback = true;\n\n              resolve();\n            }\n          } else if (metadata.noCallback) {\n            target[name](...args);\n            resolve();\n          } else {\n            target[name](...args, makeCallback({resolve, reject}, metadata));\n          }\n        });\n      };\n    };\n\n    /**\n     * Wraps an existing method of the target object, so that calls to it are\n     * intercepted by the given wrapper function. The wrapper function receives,\n     * as its first argument, the original `target` object, followed by each of\n     * the arguments passed to the original method.\n     *\n     * @param {object} target\n     *        The original target object that the wrapped method belongs to.\n     * @param {function} method\n     *        The method being wrapped. This is used as the target of the Proxy\n     *        object which is created to wrap the method.\n     * @param {function} wrapper\n     *        The wrapper function which is called in place of a direct invocation\n     *        of the wrapped method.\n     *\n     * @returns {Proxy<function>}\n     *        A Proxy object for the given method, which invokes the given wrapper\n     *        method in its place.\n     */\n    const wrapMethod = (target, method, wrapper) => {\n      return new Proxy(method, {\n        apply(targetMethod, thisObj, args) {\n          return wrapper.call(thisObj, target, ...args);\n        },\n      });\n    };\n\n    let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n\n    /**\n     * Wraps an object in a Proxy which intercepts and wraps certain methods\n     * based on the given `wrappers` and `metadata` objects.\n     *\n     * @param {object} target\n     *        The target object to wrap.\n     *\n     * @param {object} [wrappers = {}]\n     *        An object tree containing wrapper functions for special cases. Any\n     *        function present in this object tree is called in place of the\n     *        method in the same location in the `target` object tree. These\n     *        wrapper methods are invoked as described in {@see wrapMethod}.\n     *\n     * @param {object} [metadata = {}]\n     *        An object tree containing metadata used to automatically generate\n     *        Promise-based wrapper functions for asynchronous. Any function in\n     *        the `target` object tree which has a corresponding metadata object\n     *        in the same location in the `metadata` tree is replaced with an\n     *        automatically-generated wrapper function, as described in\n     *        {@see wrapAsyncFunction}\n     *\n     * @returns {Proxy<object>}\n     */\n    const wrapObject = (target, wrappers = {}, metadata = {}) => {\n      let cache = Object.create(null);\n      let handlers = {\n        has(proxyTarget, prop) {\n          return prop in target || prop in cache;\n        },\n\n        get(proxyTarget, prop, receiver) {\n          if (prop in cache) {\n            return cache[prop];\n          }\n\n          if (!(prop in target)) {\n            return undefined;\n          }\n\n          let value = target[prop];\n\n          if (typeof value === \"function\") {\n            // This is a method on the underlying object. Check if we need to do\n            // any wrapping.\n\n            if (typeof wrappers[prop] === \"function\") {\n              // We have a special-case wrapper for this method.\n              value = wrapMethod(target, target[prop], wrappers[prop]);\n            } else if (hasOwnProperty(metadata, prop)) {\n              // This is an async method that we have metadata for. Create a\n              // Promise wrapper for it.\n              let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n              value = wrapMethod(target, target[prop], wrapper);\n            } else {\n              // This is a method that we don't know or care about. Return the\n              // original method, bound to the underlying object.\n              value = value.bind(target);\n            }\n          } else if (typeof value === \"object\" && value !== null &&\n                     (hasOwnProperty(wrappers, prop) ||\n                      hasOwnProperty(metadata, prop))) {\n            // This is an object that we need to do some wrapping for the children\n            // of. Create a sub-object wrapper for it with the appropriate child\n            // metadata.\n            value = wrapObject(value, wrappers[prop], metadata[prop]);\n          } else if (hasOwnProperty(metadata, \"*\")) {\n            // Wrap all properties in * namespace.\n            value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n          } else {\n            // We don't need to do any wrapping for this property,\n            // so just forward all access to the underlying object.\n            Object.defineProperty(cache, prop, {\n              configurable: true,\n              enumerable: true,\n              get() {\n                return target[prop];\n              },\n              set(value) {\n                target[prop] = value;\n              },\n            });\n\n            return value;\n          }\n\n          cache[prop] = value;\n          return value;\n        },\n\n        set(proxyTarget, prop, value, receiver) {\n          if (prop in cache) {\n            cache[prop] = value;\n          } else {\n            target[prop] = value;\n          }\n          return true;\n        },\n\n        defineProperty(proxyTarget, prop, desc) {\n          return Reflect.defineProperty(cache, prop, desc);\n        },\n\n        deleteProperty(proxyTarget, prop) {\n          return Reflect.deleteProperty(cache, prop);\n        },\n      };\n\n      // Per contract of the Proxy API, the \"get\" proxy handler must return the\n      // original value of the target if that value is declared read-only and\n      // non-configurable. For this reason, we create an object with the\n      // prototype set to `target` instead of using `target` directly.\n      // Otherwise we cannot return a custom object for APIs that\n      // are declared read-only and non-configurable, such as `chrome.devtools`.\n      //\n      // The proxy handlers themselves will still use the original `target`\n      // instead of the `proxyTarget`, so that the methods and properties are\n      // dereferenced via the original targets.\n      let proxyTarget = Object.create(target);\n      return new Proxy(proxyTarget, handlers);\n    };\n\n    /**\n     * Creates a set of wrapper functions for an event object, which handles\n     * wrapping of listener functions that those messages are passed.\n     *\n     * A single wrapper is created for each listener function, and stored in a\n     * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n     * retrieve the original wrapper, so that  attempts to remove a\n     * previously-added listener work as expected.\n     *\n     * @param {DefaultWeakMap<function, function>} wrapperMap\n     *        A DefaultWeakMap object which will create the appropriate wrapper\n     *        for a given listener function when one does not exist, and retrieve\n     *        an existing one when it does.\n     *\n     * @returns {object}\n     */\n    const wrapEvent = wrapperMap => ({\n      addListener(target, listener, ...args) {\n        target.addListener(wrapperMap.get(listener), ...args);\n      },\n\n      hasListener(target, listener) {\n        return target.hasListener(wrapperMap.get(listener));\n      },\n\n      removeListener(target, listener) {\n        target.removeListener(wrapperMap.get(listener));\n      },\n    });\n\n    const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps an onRequestFinished listener function so that it will return a\n       * `getContent()` property which returns a `Promise` rather than using a\n       * callback API.\n       *\n       * @param {object} req\n       *        The HAR entry object representing the network request.\n       */\n      return function onRequestFinished(req) {\n        const wrappedReq = wrapObject(req, {} /* wrappers */, {\n          getContent: {\n            minArgs: 0,\n            maxArgs: 0,\n          },\n        });\n        listener(wrappedReq);\n      };\n    });\n\n    // Keep track if the deprecation warning has been logged at least once.\n    let loggedSendResponseDeprecationWarning = false;\n\n    const onMessageWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps a message listener function so that it may send responses based on\n       * its return value, rather than by returning a sentinel value and calling a\n       * callback. If the listener function returns a Promise, the response is\n       * sent when the promise either resolves or rejects.\n       *\n       * @param {*} message\n       *        The message sent by the other end of the channel.\n       * @param {object} sender\n       *        Details about the sender of the message.\n       * @param {function(*)} sendResponse\n       *        A callback which, when called with an arbitrary argument, sends\n       *        that value as a response.\n       * @returns {boolean}\n       *        True if the wrapped listener returned a Promise, which will later\n       *        yield a response. False otherwise.\n       */\n      return function onMessage(message, sender, sendResponse) {\n        let didCallSendResponse = false;\n\n        let wrappedSendResponse;\n        let sendResponsePromise = new Promise(resolve => {\n          wrappedSendResponse = function(response) {\n            if (!loggedSendResponseDeprecationWarning) {\n              console.warn(SEND_RESPONSE_DEPRECATION_WARNING, new Error().stack);\n              loggedSendResponseDeprecationWarning = true;\n            }\n            didCallSendResponse = true;\n            resolve(response);\n          };\n        });\n\n        let result;\n        try {\n          result = listener(message, sender, wrappedSendResponse);\n        } catch (err) {\n          result = Promise.reject(err);\n        }\n\n        const isResultThenable = result !== true && isThenable(result);\n\n        // If the listener didn't returned true or a Promise, or called\n        // wrappedSendResponse synchronously, we can exit earlier\n        // because there will be no response sent from this listener.\n        if (result !== true && !isResultThenable && !didCallSendResponse) {\n          return false;\n        }\n\n        // A small helper to send the message if the promise resolves\n        // and an error if the promise rejects (a wrapped sendMessage has\n        // to translate the message into a resolved promise or a rejected\n        // promise).\n        const sendPromisedResult = (promise) => {\n          promise.then(msg => {\n            // send the message value.\n            sendResponse(msg);\n          }, error => {\n            // Send a JSON representation of the error if the rejected value\n            // is an instance of error, or the object itself otherwise.\n            let message;\n            if (error && (error instanceof Error ||\n                typeof error.message === \"string\")) {\n              message = error.message;\n            } else {\n              message = \"An unexpected error occurred\";\n            }\n\n            sendResponse({\n              __mozWebExtensionPolyfillReject__: true,\n              message,\n            });\n          }).catch(err => {\n            // Print an error on the console if unable to send the response.\n            console.error(\"Failed to send onMessage rejected reply\", err);\n          });\n        };\n\n        // If the listener returned a Promise, send the resolved value as a\n        // result, otherwise wait the promise related to the wrappedSendResponse\n        // callback to resolve and send it as a response.\n        if (isResultThenable) {\n          sendPromisedResult(result);\n        } else {\n          sendPromisedResult(sendResponsePromise);\n        }\n\n        // Let Chrome know that the listener is replying.\n        return true;\n      };\n    });\n\n    const wrappedSendMessageCallback = ({reject, resolve}, reply) => {\n      if (extensionAPIs.runtime.lastError) {\n        // Detect when none of the listeners replied to the sendMessage call and resolve\n        // the promise to undefined as in Firefox.\n        // See https://github.com/mozilla/webextension-polyfill/issues/130\n        if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n          resolve();\n        } else {\n          reject(new Error(extensionAPIs.runtime.lastError.message));\n        }\n      } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n        // Convert back the JSON representation of the error into\n        // an Error instance.\n        reject(new Error(reply.message));\n      } else {\n        resolve(reply);\n      }\n    };\n\n    const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n      if (args.length < metadata.minArgs) {\n        throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      if (args.length > metadata.maxArgs) {\n        throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      return new Promise((resolve, reject) => {\n        const wrappedCb = wrappedSendMessageCallback.bind(null, {resolve, reject});\n        args.push(wrappedCb);\n        apiNamespaceObj.sendMessage(...args);\n      });\n    };\n\n    const staticWrappers = {\n      devtools: {\n        network: {\n          onRequestFinished: wrapEvent(onRequestFinishedWrappers),\n        },\n      },\n      runtime: {\n        onMessage: wrapEvent(onMessageWrappers),\n        onMessageExternal: wrapEvent(onMessageWrappers),\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 1, maxArgs: 3}),\n      },\n      tabs: {\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 2, maxArgs: 3}),\n      },\n    };\n    const settingMetadata = {\n      clear: {minArgs: 1, maxArgs: 1},\n      get: {minArgs: 1, maxArgs: 1},\n      set: {minArgs: 1, maxArgs: 1},\n    };\n    apiMetadata.privacy = {\n      network: {\"*\": settingMetadata},\n      services: {\"*\": settingMetadata},\n      websites: {\"*\": settingMetadata},\n    };\n\n    return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n  };\n\n  if (typeof chrome != \"object\" || !chrome || !chrome.runtime || !chrome.runtime.id) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n\n  // The build process adds a UMD wrapper around this file, which makes the\n  // `module` variable available.\n  module.exports = wrapAPIs(chrome);\n} else {\n  module.exports = browser;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","import '../scss/style.scss'\r\n\r\nconst browser = require('webextension-polyfill')\r\nconst path = require('path-browserify')\r\n\r\nlet historyValues = []\r\nconst maxHistoryItemCount = 25\r\n\r\nconst nameElement = document.getElementById('name')\r\nconst categorySelect = document.getElementById('category')\r\nconst directoryText = document.getElementById('directory')\r\n\r\nbrowser.storage.local.get(['name', 'history', 'category', 'directory'], function (data) {\r\n  if (data.name != null) {\r\n    nameElement.value = data.name\r\n  }\r\n\r\n  historyValues = data.history\r\n\r\n  if (historyValues == null) {\r\n    historyValues = []\r\n  }\r\n\r\n  if (historyValues.length > 0 && (historyValues[0] instanceof String || typeof (historyValues[0]) === 'string')) {\r\n    for (let i = 0; i < historyValues.length; i++) {\r\n      const key = historyValues[i]\r\n      historyValues[i] = {\r\n        key: key,\r\n        timestamp: Date.now()\r\n      }\r\n    }\r\n  }\r\n\r\n  if (data.category != null) {\r\n    categorySelect.selectedIndex = data.category\r\n  }\r\n\r\n  if (data.directory != null) {\r\n    directoryText.value = data.directory\r\n  }\r\n  updateHistory()\r\n})\r\n\r\nfunction updateHistory() {\r\n  const historyListElement = document.getElementById('history-list')\r\n  historyListElement.innerHTML = ''\r\n\r\n  historyValues.sort((a, b) => a.timestamp < b.timestamp)\r\n\r\n  if (historyValues.length > maxHistoryItemCount) {\r\n    historyValues.length = maxHistoryItemCount\r\n  }\r\n\r\n  historyValues.forEach(function (history) {\r\n    const option = document.createElement('OPTION')\r\n    option.innerHTML = history.key\r\n\r\n    historyListElement.appendChild(option)\r\n  })\r\n}\r\n\r\nnameElement.addEventListener('change', function (event) {\r\n  let name = nameElement.value.replace('\\\\', ' ')\r\n\r\n  name = name.replace('/', ' ')\r\n  name = name.trim()\r\n\r\n  nameElement.value = name\r\n  browser.storage.local.set({\r\n    name: name\r\n  })\r\n})\r\n\r\ndirectoryText.addEventListener('change', function (event) {\r\n  let directory = directoryText.value\r\n\r\n  directory = directory.trim()\r\n\r\n  directoryText.value = directory\r\n  browser.storage.local.set({\r\n    directory: directory\r\n  })\r\n})\r\n\r\ncategorySelect.addEventListener('change', function (event) {\r\n  const category = categorySelect.selectedIndex\r\n\r\n  browser.storage.local.set({\r\n    category: category\r\n  })\r\n})\r\n\r\nconst clearButton = document.getElementById('clear')\r\nclearButton.addEventListener('click', function () {\r\n  nameElement.value = ''\r\n\r\n  const event = document.createEvent('HTMLEvents')\r\n  event.initEvent('change', true, false)\r\n  nameElement.dispatchEvent(event)\r\n})\r\n\r\nconst historyListSelect = document.getElementById('history-list')\r\n\r\nhistoryListSelect.addEventListener('change', function () {\r\n  if (historyListSelect.selectedIndex < 0) return\r\n\r\n  const selectItem = historyListSelect.options[historyListSelect.selectedIndex]\r\n  const selectText = selectItem.text.split('\\\\')\r\n\r\n  if (selectText.length === 2) {\r\n    nameElement.value = selectText[1]\r\n    for (let i = 0; i < categorySelect.options.length; i++) {\r\n      if (categorySelect.options[i].text === selectText[0]) {\r\n        categorySelect.selectedIndex = i\r\n      }\r\n    }\r\n  } else {\r\n    nameElement.value = selectText[0]\r\n  }\r\n\r\n  const event = document.createEvent('HTMLEvents')\r\n  event.initEvent('change', true, false)\r\n  nameElement.dispatchEvent(event)\r\n  categorySelect.dispatchEvent(event)\r\n})\r\n\r\nconst downloadButton = document.getElementById('download')\r\ndownloadButton.addEventListener('click', function () {\r\n  browser.tabs.query({\r\n    active: true,\r\n    currentWindow: true\r\n  }, function (tabs) {\r\n    browser.tabs.sendMessage(tabs[0].id, {\r\n      command: 'download'\r\n    }, function (response) {\r\n      const name = nameElement.value\r\n      const category = categorySelect[categorySelect.selectedIndex].text\r\n      const historyEntry = category + '\\\\' + name\r\n\r\n      const currentItemIndex = historyValues.findIndex((history) => history.key === historyEntry)\r\n\r\n      if (currentItemIndex === -1) {\r\n        historyValues.unshift({\r\n          key: historyEntry,\r\n          timestamp: Date.now()\r\n        })\r\n      } else {\r\n        historyValues[currentItemIndex].timestamp = Date.now()\r\n      }\r\n\r\n      updateHistory()\r\n\r\n      browser.storage.local.set({\r\n        history: historyValues\r\n      })\r\n\r\n      const downloadPath = path.join((directoryText.value.length === 0 ? '' : directoryText.value), category, name)\r\n      const downloadList = []\r\n\r\n      response.urls.forEach(function (download) {\r\n        downloadList.push({\r\n          url: download.url,\r\n          filename: path.join(downloadPath, download.name)\r\n        })\r\n      })\r\n\r\n      if (response.profile !== undefined || response.comments !== undefined) {\r\n        addInfo(downloadList, response, downloadPath)\r\n      }\r\n\r\n      downloadList.forEach(function (download) {\r\n        browser.downloads.download({\r\n          url: download.url,\r\n          filename: download.filename\r\n        })\r\n      })\r\n    })\r\n  })\r\n})\r\n\r\nfunction addInfo(downloadList, response, downloadPath) {\r\n  const info = {\r\n    version: 1,\r\n    profile: response.profile,\r\n    comments: response.comments\r\n  }\r\n  const infoJson = JSON.stringify(info)\r\n  const bytes = new TextEncoder().encode(infoJson)\r\n  const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' })\r\n  const url = URL.createObjectURL(blob)\r\n\r\n  downloadList.push({\r\n    url: url,\r\n    filename: path.join(downloadPath, 'info.json')\r\n  })\r\n}\r\n\r\nconst pasteButton = document.getElementById('paste')\r\npasteButton.addEventListener('click', async function () {\r\n  const text = await navigator.clipboard.readText()\r\n  nameElement.value = text\r\n\r\n  const event = document.createEvent('HTMLEvents')\r\n  event.initEvent('change', true, false)\r\n  nameElement.dispatchEvent(event)\r\n})\r\n\r\nconst populateButton = document.getElementById('populate')\r\npopulateButton.addEventListener('click', function () {\r\n  browser.tabs.query({\r\n    active: true,\r\n    currentWindow: true\r\n  }, function (tabs) {\r\n    browser.tabs.sendMessage(tabs[0].id, {\r\n      command: 'populate'\r\n    }, function (response) {\r\n      nameElement.value = response.name\r\n\r\n      const event = document.createEvent('HTMLEvents')\r\n      event.initEvent('change', true, false)\r\n      nameElement.dispatchEvent(event)\r\n    })\r\n  })\r\n})\r\n"],"names":["browser","Object","getPrototypeOf","prototype","CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE","SEND_RESPONSE_DEPRECATION_WARNING","wrapAPIs","extensionAPIs","apiMetadata","keys","length","Error","DefaultWeakMap","WeakMap","createItem","items","super","get","key","has","this","set","makeCallback","promise","metadata","callbackArgs","runtime","lastError","reject","message","singleCallbackArg","resolve","pluralizeArguments","numArgs","wrapMethod","target","method","wrapper","Proxy","apply","targetMethod","thisObj","args","call","hasOwnProperty","Function","bind","wrapObject","wrappers","cache","create","handlers","proxyTarget","prop","receiver","value","name","minArgs","maxArgs","Promise","fallbackToNoCallback","cbError","console","warn","noCallback","wrapAsyncFunction","defineProperty","configurable","enumerable","desc","Reflect","deleteProperty","wrapEvent","wrapperMap","addListener","listener","hasListener","removeListener","onRequestFinishedWrappers","req","wrappedReq","getContent","loggedSendResponseDeprecationWarning","onMessageWrappers","sender","sendResponse","wrappedSendResponse","result","didCallSendResponse","sendResponsePromise","response","stack","err","isResultThenable","then","sendPromisedResult","msg","error","__mozWebExtensionPolyfillReject__","catch","wrappedSendMessageCallback","reply","wrappedSendMessage","apiNamespaceObj","wrappedCb","push","sendMessage","staticWrappers","devtools","network","onRequestFinished","onMessage","onMessageExternal","tabs","settingMetadata","clear","privacy","services","websites","chrome","id","module","exports","$f13917a90d4db9b497c005419c2c20b9$var$cachedSetTimeout","$f13917a90d4db9b497c005419c2c20b9$var$cachedClearTimeout","$f13917a90d4db9b497c005419c2c20b9$var$process","$f13917a90d4db9b497c005419c2c20b9$exports","$f13917a90d4db9b497c005419c2c20b9$var$defaultSetTimout","$f13917a90d4db9b497c005419c2c20b9$var$defaultClearTimeout","$f13917a90d4db9b497c005419c2c20b9$var$runTimeout","fun","setTimeout","e","e1","clearTimeout","$f13917a90d4db9b497c005419c2c20b9$var$currentQueue","$f13917a90d4db9b497c005419c2c20b9$var$queue","$f13917a90d4db9b497c005419c2c20b9$var$draining","$f13917a90d4db9b497c005419c2c20b9$var$queueIndex","$f13917a90d4db9b497c005419c2c20b9$var$cleanUpNextTick","concat","$f13917a90d4db9b497c005419c2c20b9$var$drainQueue","timeout","len","run","marker","$f13917a90d4db9b497c005419c2c20b9$var$runClearTimeout","$f13917a90d4db9b497c005419c2c20b9$var$Item","array","$f13917a90d4db9b497c005419c2c20b9$var$noop","$e39878f5a0922347f4cd81853154618a$var$assertPath","path","TypeError","JSON","stringify","$e39878f5a0922347f4cd81853154618a$var$normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","i","charCodeAt","lastSlashIndex","lastIndexOf","slice","nextTick","Array","arguments","title","env","argv","version","versions","on","once","off","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","$e39878f5a0922347f4cd81853154618a$var$posix","resolvedPath","resolvedAbsolute","undefined","normalize","isAbsolute","trailingSeparator","join","joined","arg","relative","from","to","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","pathObject","sep","root","base","$e39878f5a0922347f4cd81853154618a$var$_format","parse","ret","isAbsolute1","delimiter","win32","posix","$e39878f5a0922347f4cd81853154618a$exports","$7cd275cf8b5b27998fea80475ae94350$var$historyValues","$7cd275cf8b5b27998fea80475ae94350$var$nameElement","document","getElementById","$7cd275cf8b5b27998fea80475ae94350$var$categorySelect","$7cd275cf8b5b27998fea80475ae94350$var$directoryText","$7cd275cf8b5b27998fea80475ae94350$var$updateHistory","historyListElement","innerHTML","sort","a","b","timestamp","forEach","history","option","createElement","appendChild","$4KHtv","storage","local","data","String","Date","now","category","selectedIndex","directory","addEventListener","event","replace","trim","createEvent","initEvent","dispatchEvent","$7cd275cf8b5b27998fea80475ae94350$var$historyListSelect","selectText","options","text","split","query","active","currentWindow","command","historyEntry","currentItemIndex","findIndex","unshift","downloadPath","downloadList","urls","download","url","filename","profile","comments","info","infoJson","bytes","TextEncoder","encode","blob","Blob","type","URL","createObjectURL","$7cd275cf8b5b27998fea80475ae94350$var$addInfo","downloads","async","navigator","clipboard","readText"],"version":3,"file":"popup.604bc9f8.js.map"}